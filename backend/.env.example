# Quantera Backend Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://your_user:your_secure_password@localhost:5432/quantera

# Redis connection string for caching and rate limiting
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# ETHEREUM/BLOCKCHAIN CONFIGURATION
# =============================================================================
# Ethereum RPC endpoint (use Infura, Alchemy, or your own node)
ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID

# Chain ID (1 for mainnet, 11155111 for Sepolia, 1337 for local)
CHAIN_ID=1

# =============================================================================
# SECURITY CONFIGURATION - CRITICAL
# =============================================================================
# JWT Secret - MUST be a cryptographically secure random string
# Generate with: openssl rand -hex 64
JWT_SECRET=GENERATE_A_SECURE_64_BYTE_HEX_STRING_HERE

# Encryption key for sensitive data - MUST be 32 bytes (64 hex chars)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=GENERATE_A_SECURE_32_BYTE_HEX_STRING_HERE

# HMAC secret for request signing
# Generate with: openssl rand -hex 32
HMAC_SECRET=GENERATE_A_SECURE_32_BYTE_HEX_STRING_HERE

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Port for the API server
API_PORT=3001

# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000

# Log level (trace, debug, info, warn, error)
LOG_LEVEL=info

# =============================================================================
# CONNECTION POOL CONFIGURATION
# =============================================================================
# Maximum database connections
DB_MAX_CONNECTIONS=100

# Minimum idle connections
DB_MIN_CONNECTIONS=10

# Connection timeout in seconds
DB_CONNECTION_TIMEOUT=30

# Connection max lifetime in seconds
DB_MAX_LIFETIME=1800

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Requests per minute per authenticated user
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# Requests per minute for anonymous users
RATE_LIMIT_ANONYMOUS_PER_MINUTE=20

# Burst allowance (additional requests allowed in short bursts)
RATE_LIMIT_BURST=10

# =============================================================================
# COMPLIANCE SERVICE CONFIGURATION
# =============================================================================
# KYC/AML provider API key
KYC_PROVIDER_API_KEY=your_kyc_provider_api_key

# Sanctions screening API key
SANCTIONS_API_KEY=your_sanctions_api_key

# =============================================================================
# IPFS CONFIGURATION
# =============================================================================
# IPFS gateway URL
IPFS_GATEWAY_URL=https://ipfs.io/ipfs/

# IPFS API endpoint for uploads
IPFS_API_URL=https://api.pinata.cloud

# Pinata API key (if using Pinata)
PINATA_API_KEY=your_pinata_api_key
PINATA_SECRET_KEY=your_pinata_secret_key

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry DSN for error tracking
SENTRY_DSN=https://your_sentry_dsn

# OpenTelemetry endpoint
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# =============================================================================
# PRODUCTION SECURITY CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# [ ] All secrets are unique and securely generated
# [ ] DATABASE_URL uses SSL: ?sslmode=require
# [ ] JWT_SECRET is at least 64 bytes
# [ ] ENCRYPTION_KEY is exactly 32 bytes
# [ ] ALLOWED_ORIGINS contains only your domain(s)
# [ ] LOG_LEVEL is set to 'info' or 'warn'
# [ ] All API keys are from production accounts
# [ ] This file is NOT committed to version control
